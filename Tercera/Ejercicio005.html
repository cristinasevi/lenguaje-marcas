<html>
<head>
	<title>Tienda Online</title>
<link rel="stylesheet" href="Ejercicio005.css">
<script language="JavaScript">
    function mostrar() {
        if(sessionStorage.length == 0)
            cesta.innerHTML = "<h5>No tienes productos en el carrito</h5>";
        else
            cesta.innerHTML = "<table class=pro width=90%></tr><th>PRODUCTO</th><th>UNIDADES</th><th>ELIMINAR</th></tr></table>"
        for(i=0; i<sessionStorage.length; i++)
            cesta.innerHTML += "<table class=pro width=90%><tr><td>" + sessionStorage.key(i) + "</td><td>" +
                                sessionStorage.getItem(sessionStorage.key(i)) + 
                                "</td><td><input type=button value=Quitar onclick=eliminar('" + sessionStorage.key(i) + "')></td></tr></table>";
    }

    function almacenar(codigo) {
        if(sessionStorage.getItem(codigo) == null)
            sessionStorage.setItem(codigo, 1);
        else
            sessionStorage.setItem(codigo, parseInt(sessionStorage.getItem(codigo))+1);
        mostrar();
    }

    function eliminar(codigo) {
        if(sessionStorage.getItem(codigo) == 1)
            sessionStorage.removeItem(codigo);
        else
            sessionStorage.setItem(codigo, parseInt(sessionStorage.getItem(codigo))-1);
        mostrar();
    }
</script>
</head>
<body>
    <div id="principal">
        <h1>TIENDA ONLINE</h1>
        <div id="productos">
            <table>
                <tr>
                    <th>IMAGEN</th>
                    <th>DESCRIPCIÓN</th>
                    <th>COMPRAR</th>
                </tr>
                <tr>
                    <td><img src="imagenes/ASUS.webp"></td>
                    <td><span id="d1">Portátil ASUS TUF Gaming A15</span></td>
                    <td><input type="button" value="Añadir" onclick="almacenar('ASUS')"></td>
                </tr>
                <tr>
                    <td><img src="imagenes/AMD.webp"></td>
                    <td><span id="d2">Procesador AMD Ryzen 7 9800X3D 4.7/5.2GHz</span></td>
                    <td><input type="button" value="Añadir" onclick="almacenar('AMD')"></td>
                </tr>
                <tr>
                    <td><img src="imagenes/pc.webp"></td>
                    <td><span id="d3">Ordenador Sobremesa PcCom Ready Intel Core i5-12400F / 32 GB / 1TB SSD / RTX 4060</span></td>
                    <td><input type="button" value="Añadir" onclick="almacenar('PcCom')"></td>
                </tr>
                <tr>
                    <td><img src="imagenes/ventiladores.webp"></td>
                    <td><span id="d4">MSI GeForce RTX 4060 VENTUS 2X BLACK OC 8GB GDDR6 DLSS3</span></td>
                    <td><input type="button" value="Añadir" onclick="almacenar('MSI')"></td>
                </tr>
                <tr>
                    <td><img src="imagenes/monitor.webp"></td>
                    <td><span id="d5">Monitor AOC 24G4XE 23.8" LED Fast IPS FullHD 180Hz G-Sync Compatible</span></td>
                    <td><input type="button" value="Añadir" onclick="almacenar('AOC')"></td>
                </tr>
            </table>
        </div>
        <div id="carrito">
            <h4>Este es el carrito de la compra</h4>
            <div id="cesta"></div>
            <div id="total"></div>
        </div>
        <div id="pie"></div>
    </div>
</body>
</html>